from datetime import datetime, timedelta
from pathlib import Path

mintues = [(datetime.now() - timedelta(minutes = i))
           .strftime('%b %d %H:%M') for i in range(1, 30)]
log_lines = Path('/var/log/syslog').read_text().splitlines()
for x in log_lines:
    stringd = ' '.join(x.partition('joe')[0].split())
    dformat = datetime.strptime(stringd, '%b %d %H:%M:%S')
    if dformat.strftime('%b %d %H:%M') in mintues:
        print(x)    
